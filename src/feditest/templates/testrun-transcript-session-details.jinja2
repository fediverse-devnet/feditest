
    <div class="feditest sessions">
{%- for run_session in run.sessions %}
{%-     set plan_session = run.plan.sessions[run_session.plan_session_index] %}
{%-     set constellation = plan_session.constellation %}
        <div class="session" id="{{ remove_white(run_session) }}">
            <h3 class="session">{{ run_session}}: {{ constellation.name or "unnamed" }}</h3>
            <div class="constellation">
                <div class="roles">
{%-     for role_name, node in constellation.roles.items() %}
{%-         set session_transcript = run_session.constellation.nodes[role_name] %}
                    <div class="role">
                        <div class="name">{{ role_name }}</div>
                        <div class="driver">{{ local_name_with_tooltip(node.nodedriver) }}</div>
                        <div class="app">{{ session_transcript.appdata['app'] }}</div>
                        <div class="appversion">{{ session_transcript.appdata['app_version'] or '?'}}</div>
{%-         if node.parameters %}
                        <table class="parameters">
                            <thead>
                                <tr>
                                    <th colspan="2">Parameters:</th>
                                </tr>
                            </thead>
                            <tbody>
{%-             for key, value in node.parameters.items() %}
                                <tr>
                                    <td class="key">{{ key }}</td>
                                    <td class="value">{{ value }}</td>
                                </tr>
{%-             endfor %}
                            </tbody>
                        </table>
{%-         endif %}
                    </div>
{%-     else %}
                (no roles)
{%-     endfor %}
                </div>
            </div>
        </div>
{%- endfor %}
    </div>


    <div class="tests">
        <table class="tests">
            <colgroup>
                <col>
{%- for run_session, plan_session in sessions %}
                <col class="session">
{%- endfor %}
            </colgroup>
            <thead>
                <tr>
                    <th>Test</th>
{%- for run_session, plan_session in sessions %}
{%-     set constellation = plan_session.constellation %}
                    <th>
                        <div class="title">
{%-     if session_links -%}
                            <a href="#{{ remove_white(run_session.name) }}">{{ run_session.name }}</a>
{%-     else -%}
                            {{ run_session.name }}
{%-     endif -%}
{%-     if constellation.name -%}
                            : {{ constellation.name }}
{%-     endif -%}
                        </div>
                        <dl class="roles">
{%-     for role in constellation.roles %}
                            <dt>{{ role.name }}</dt>
                            <dd>{{ role.nodedriver }}</dd>
{%-     endfor %}
                        </dl>
                    </th>
{%- endfor %}
                </tr>
            </thead>
            <tbody>
{%- for test_spec in all_tests %}
                <tr>
                    <td class="name">{{ test_spec.name }}</td>
{%-     for run_session, plan_session in sessions -%}
{%          set problem = get_problem(run_session, test_spec) -%}
{%          if test_spec.disabled -%}
{%              set status = "skipped" -%}
{%          elif problem -%}
{%              set status = "failed" -%}
{%          else -%}
{%              set status = "passed" -%}
{%          endif %}
{%-         if problem %}
                    <td class="status {{ status }}">
                        <label for="details-{{ remove_white(test_spec.name) }}-{{ remove_white(run_session.name) }}">{{ status | capitalize }}</label>
                        <input id="details-{{ remove_white(test_spec.name) }}-{{ remove_white(run_session.name) }}" type="checkbox">
                        <pre class="details">{{ problem.message() | e }}</pre>
                    </td>
{%-         else %}
                    <td class="status {{ status }}">{{ status | capitalize }}</td>
{%-         endif %}
{%-     endfor %}
                </tr>
{%- endfor %}
            </tbody>
        </table>
    </div>

    <div class="feditest tests">
        <table class="tests">
            <colgroup>
                <col>
{%- for run_session in run.sessions %}
                <col class="session">
{%- endfor %}
            </colgroup>
            <thead>
                <tr>
                    <th>Test</th>
{%- for run_session in run.sessions %}
{%-     set plan_session = run.plan.sessions[run_session.plan_session_index] %}
{%-     set constellation = plan_session.constellation %}
                    <th>
                        <div class="title">
{%-     if session_links -%}
                            <a href="#{{ remove_white(run_session) }}">{{ run_session }}</a>
{%-     else -%}
                            {{ run_session }}
{%-     endif -%}
{%-     if constellation.name -%}
                            : {{ constellation.name }}
{%-     endif -%}
                        </div>
                        <dl class="roles">
{%-     for role in constellation.roles %}
                            <dt>{{ role.name }}</dt>
                            <dd>{{ role.app_name }}</dd>
{%-     endfor %}
                        </dl>
                    </th>
{%- endfor %}
                </tr>
            </thead>
            <tbody>
{%- for test_spec in all_tests %}
                <tr>
                    <td class="namedesc">
                        <span class="name">{{ test_spec.name }}</span>
{%-     if test_spec.get_test().description %}
                        <span class="description">{{ test_spec.get_test().description }}</span>
{%-     endif %}
                    </td>
{%-     for run_session in run.sessions %}
{%-         set plan_session = run.plan.sessions[run_session.plan_session_index] %}
{%          set problem = get_problem(run, run_session, test_spec) -%}
{%          if test_spec.disabled -%}
{%              set status = "disabled" -%}
{%          elif problem -%}
{%              set status = problem.type -%}
{%          else -%}
{%              set status = "passed" -%}
{%          endif %}
{%-         if problem %}
                    <td class="status {{ status }}">
                        <label for="details-{{ remove_white(test_spec.name) }}-{{ remove_white(run_session) }}">{{ status }}</label>
                        <input id="details-{{ remove_white(test_spec.name) }}-{{ remove_white(run_session) }}" type="checkbox">
                        <pre class="details">{{ problem | e }}</pre>
                    </td>
{%-         else %}
                    <td class="status {{ status }}">{{ status | capitalize }}</td>
{%-         endif %}
{%-     endfor %}
                </tr>
{%- endfor %}
            </tbody>
        </table>
    </div>